SET SERVEROUTPUT ON;
DECLARE
IDPRODUCTO NUMBER;
IDDIRECCION NUMBER;
IDCLIENTE NUMBER;
IDPEDIDO NUMBER;
IDLINEAPEDIDO NUMBER;
FECHA DATE;
BEGIN 
PRODUCTOS_PRUEBA.INICIALIZAR;
PRODUCTOS_PRUEBA.INSERTAR('PRUEBA 1: INSERTAR PRODUCTO', 'PRODUCTO DE PRUEBA',
'Es un producto','equipoSoldadura','Disponible',150,'HTTP://prueba.com','HTTP://prueba.com',10,'PRUC345','T801',TRUE);
IDPRODUCTO := SEC_PRODUCTO.CURRVAL;
PRODUCTOS_PRUEBA.ELIMINAR('PRUEBA 2: ELIMINAR PRODUCTO',IDPRODUCTO,TRUE);
PRODUCTOS_PRUEBA.INSERTAR('PRUEBA 3: INSERTAR PRODUCTO 2', 'PRODUCTO DE PRUEBA2',
'Es un producto','equipoSoldadura','Disponible',150,'HTTP://prueba.com','HTTP://prueba.com',10,'PRUC365','T821',TRUE);
IDPRODUCTO := SEC_PRODUCTO.CURRVAL;
PRODUCTOS_PRUEBA.ACTUALIZAR('PRUEBA 4: ACTUALIZAR PRODUCTO',IDPRODUCTO, 'PRODUCTO DE PRUEBA ACTUALIZADO',
'Es un producto actualizado','equipoSoldadura','Disponible',155,'HTTP://prueba.com/update','HTTP://prueba.com/update',9,'PRUC3456','T8012',TRUE);

--DIRECCIONES_PRUEBA.INICIALIZAR;

DIRECCIONES_PRUEBA.INSERTAR('PRUEBA 5: INSERTAR DIRECCION 1','HUELVA',4,41000,'Pepito',TRUE);
IDDIRECCION:= SEC_DIRECCION.CURRVAL;
DIRECCIONES_PRUEBA.ELIMINAR('PRUEBA 6: ELIMINAR DIRECCION',IDDIRECCION,TRUE);
DIRECCIONES_PRUEBA.INSERTAR('PRUEBA 7: INSERTAR DIRECCION 2','MALAGA',4,45000,'Pepito PEREZ',TRUE);
IDDIRECCION:= SEC_DIRECCION.CURRVAL;
DIRECCIONES_PRUEBA.ACTUALIZAR('PRUEBA 8: ACTUALIZAR DIRECCION',IDDIRECCION, 'UPDATEMALAGA',14705,'pepitoUPDATE',5,TRUE);
CLIENTES_PRUEBA.INSERTAR('PRUEBA 9: INSERTAR CLIENTE 1','JUAN', 'PEREZ',
'JIMENEZ','JUANPEREZ@gmail.com','48562434A',955878868,IDDIRECCION,TRUE);
IDCLIENTE := SEC_CLIENTE.CURRVAL;
CLIENTES_PRUEBA.ELIMINAR('PRUEBA 10: ELIMINAR CLIENTE',IDCLIENTE,TRUE);

CLIENTES_PRUEBA.INSERTAR('PRUEBA 11: INSERTAR CLIENTE', 'PACO', 'ESTEBAN',
'LOPEZ','PACOLOPEZ@gmail.com','45562438B',954878853,IDDIRECCION,TRUE);
IDCLIENTE := SEC_CLIENTE.CURRVAL;
CLIENTES_PRUEBA.ACTUALIZAR('PRUEBA 12: ACTUALIZAR CLIENTE',IDCLIENTE,'JAVI', 'ESTEBAN',
'LOPEZ','JAVILOPEZ@gmail.com','45562438B',954878853,IDDIRECCION,TRUE);

--PEDIDOS_PRUEBA.INICIALIZAR;
IDCLIENTE := SEC_CLIENTE.CURRVAL;
IDDIRECCION := SEC_DIRECCION.CURRVAL;
PEDIDOS_PRUEBA.INSERTAR('PRUEBA 13: INSERTAR PEDIDO', 200,IDCLIENTE,IDDIRECCION,TRUE);
IDPEDIDO := SEC_PEDIDO.CURRVAL;
PEDIDOS_PRUEBA.ELIMINAR('PRUEBA 14: ELIMINAR PEDIDOS',IDPEDIDO,TRUE);
IDCLIENTE := SEC_CLIENTE.CURRVAL;
IDDIRECCION := SEC_DIRECCION.CURRVAL;
PEDIDOS_PRUEBA.INSERTAR('PRUEBA 15: INSERTAR INSERTAR PEDIDO', 250,IDCLIENTE,IDDIRECCION,TRUE);
SELECT SYSDATE INTO FECHA FROM dual;
PEDIDOS_PRUEBA.ACTUALIZAR('PRUEBA 16: ACTUALIZAR PEDIDOS',IDPEDIDO, FECHA, 280,IDCLIENTE,IDDIRECCION,TRUE);

--LINEAPEDIDOS_PRUEBA.INICIALIZAR;
IDPRODUCTO := SEC_PRODUCTO.CURRVAL;
IDPEDIDO := SEC_PEDIDO.CURRVAL;
LINEAPEDIDOS_PRUEBA.INSERTAR('PRUEBA 17: INSERTAR LINEA DE PEDIDOS', 2,15,IDPRODUCTO,IDPEDIDO,TRUE);
IDLINEAPEDIDO := SEC_LINEAPEDIDOS.CURRVAL;
LINEAPEDIDOS_PRUEBA.ELIMINAR('PRUEBA 18: ELIMINAR LINEAPEDIDOS',IDLINEAPEDIDO,TRUE);
LINEAPEDIDOS_PRUEBA.INSERTAR('PRUEBA 19: INSERTAR LINEA DE PEDIDOS', 2,15,IDPRODUCTO,IDPEDIDO,TRUE);
LINEAPEDIDOS_PRUEBA.ACTUALIZAR('PRUEBA 20: ACTUALIZAR LINEA DE PEDIDOS',3,15,IDPRODUCTO,IDPEDIDO,TRUE);
END;